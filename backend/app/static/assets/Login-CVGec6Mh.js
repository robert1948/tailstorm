import{r as t,j as e}from"./index-Dk3eJZ2H.js";function p(){const[r,i]=t.useState(""),[o,c]=t.useState(""),[l,n]=t.useState(""),d=async s=>{s.preventDefault(),n("");try{const a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})});if(!a.ok){const u=await a.json();throw new Error(u.detail||"Login failed")}const m=await a.json();localStorage.setItem("token",m.access_token),window.location.href="/dashboard"}catch(a){n(a.message)}};return e.jsxs("section",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-lg shadow",children:[e.jsx("h2",{className:"text-2xl font-semibold text-center mb-4",children:"Login"}),l&&e.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:l}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"sr-only",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 border rounded",value:r,onChange:s=>i(s.target.value),required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"sr-only",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-2 border rounded",value:o,onChange:s=>c(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 transition",children:"Login"})]})]})}export{p as default};
